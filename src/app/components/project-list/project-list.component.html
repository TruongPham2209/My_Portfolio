<!-- Desktop/Tablet View - Cards -->
<div class="d-none d-md-block">
    <div class="row">
        <div class="col-lg-4 col-md-6 mb-4" *ngFor="let project of projects; trackBy: trackByProjectTitle" [@slideIn]>
            <div class="project-card h-100">
                <div class="project-image">
                    <img [src]="project.thumbnail" [alt]="project.title" class="card-img-top" />
                    <div class="project-overlay">
                        <div class="project-actions">
                            <a
                                *ngIf="project.backendGithubUrl"
                                [href]="project.backendGithubUrl"
                                target="_blank"
                                class="btn btn-outline-light btn-sm me-2"
                                title="GitHub (BE)"
                            >
                                <i class="bi bi-github"></i>
                            </a>

                            <a
                                *ngIf="project.frontendGithubUrl"
                                [href]="project.frontendGithubUrl"
                                target="_blank"
                                class="btn btn-outline-light btn-sm me-2"
                                title="GitHub (FE)"
                            >
                                <i class="bi bi-github"></i>
                            </a>

                            <a
                                *ngIf="project.liveUrl"
                                [href]="project.liveUrl"
                                target="_blank"
                                class="btn btn-outline-light btn-sm me-2"
                                title="Live Demo"
                            >
                                <i class="bi bi-box-arrow-up-right"></i>
                            </a>
                            <a
                                *ngIf="project.youtubeUrl"
                                [href]="project.youtubeUrl"
                                target="_blank"
                                class="btn btn-outline-light btn-sm"
                                title="Video Demo"
                            >
                                <i class="bi bi-play-circle"></i>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <h5 class="card-title">{{ project.title }}</h5>
                    <p class="card-text text-muted">{{ project.description }}</p>
                    <div class="project-tech mb-3">
                        <span class="badge bg-primary me-1 mb-1" *ngFor="let tech of project.technologies.slice(0, 3)">
                            <img
                                src="{{ tech.svg }}"
                                alt="{{ tech.name }}"
                                class="me-2"
                                style="width: 1em; height: 1em"
                            />
                            <span>{{ tech.name }}</span>
                        </span>
                    </div>
                    <div class="d-flex justify-content-between align-items-center">
                        <small class="text-muted">
                            <i class="bi bi-diagram-3 me-1"></i>{{ project.architecture }}
                        </small>
                        <button
                            class="btn btn-sm btn-outline-primary"
                            (click)="openProjectDetail(project)"
                            type="button"
                        >
                            Chi tiết <i class="bi bi-arrow-right ms-1"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Mobile View - Carousel -->
<div class="d-md-none">
    <ngb-carousel #carousel [interval]="5000" [pauseOnHover]="true" [wrap]="true">
        <ng-container *ngFor="let project of projects; trackBy: trackByProjectTitle">
            <ng-template ngbSlide>
                <div class="picsum-img-wrapper">
                    <img [src]="project.thumbnail" [alt]="project.title" class="d-block w-100" />
                </div>
                <div class="carousel-caption">
                    <h5>{{ project.title }}</h5>
                    <p>{{ project.description }}</p>
                    <div class="carousel-actions">
                        <a
                            *ngIf="project.backendGithubUrl"
                            [href]="project.backendGithubUrl"
                            target="_blank"
                            class="btn btn-outline-light btn-sm me-2"
                            title="GitHub (BE)"
                        >
                            <i class="bi bi-github"></i>
                        </a>

                        <a
                            *ngIf="project.frontendGithubUrl"
                            [href]="project.frontendGithubUrl"
                            target="_blank"
                            class="btn btn-outline-light btn-sm me-2"
                            title="GitHub (FE)"
                        >
                            <i class="bi bi-github"></i>
                        </a>

                        <a
                            *ngIf="project.liveUrl"
                            [href]="project.liveUrl"
                            target="_blank"
                            class="btn btn-outline-light btn-sm me-2"
                        >
                            <i class="bi bi-box-arrow-up-right"></i>
                        </a>

                        <button class="btn btn-primary btn-sm" (click)="openProjectDetail(project)" type="button">
                            Chi tiết
                        </button>
                    </div>
                </div>
            </ng-template>
        </ng-container>
    </ngb-carousel>
</div>

<!-- Project Detail Modal Component -->
<app-project-detail (closed)="onProjectDetailClosed()"> </app-project-detail>
